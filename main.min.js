var menu={},this_item={};function setVideo(e){jQuery("#video-player").attr("src",e)}function initSite(){megaMenu(),null==menus&&window.setTimeout(initSite(),100)}jQuery((function(){jQuery("#main-menu").on("click","a.toggle-menu",(function(){jQuery(".exo-menu").toggleClass("display")}))}));var winTop=jQuery(window).scrollTop();jQuery((function(){jQuery(window).scroll((function(){winTop>=30?(jQuery("#site-title").addClass("sticky-header"),jQuery("#main-menu").addClass("sticky-header"),jQuery("#pinned-nav").addClass("sticky-header")):(jQuery("#site-title").removeClass("sticky-header"),jQuery("#main-menu").removeClass("sticky-header"),jQuery("#pinned-nav").removeClass("sticky-header"))}))}));var posts={},taxonomies={},categories={},tags={},menus={},media={},posts_nav={},posts_slug_ids={},last_dest="outer-nav",menu_levels=[],menu_slides=[],related={},data_score=7,data_loaded=[],state={},social={},taxonomy_accordion=(taxonomies={},"");function getStaticJSON(e,n,s){var t=json_path+e+".json";jQuery.ajax({url:t,data:"",success:function(e,t,i){return console.log("data",e),n(e,s)},error:function(e,n,s){},cache:!1})}function setTaxonomies(e){var n="";for(var s in e.taxonomies){switch(n=s,s){case"category":n="categories";break;case"post_tag":n="tags";case"nav_sdg":n="sdg"}taxonomies[s]={data:e[n],name:e.taxonomies[s].name}}setTaxonomyAccordion()}function setData(e){setTaxonomies(e),setTags(e.tags),setCategories(e.categories),setMenus(e.menus),initSite()}function setPosts(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)void 0!==e[n].title&&void 0!==e[n].title.rendered&&(e[n].title=e[n].title.rendered),void 0!==e[n].content&&void 0!==e[n].content.rendered&&(e[n].content=e[n].content.rendered),void 0!==e[n].type&&(e[n].type,posts[e[n].id]=e[n]);else e.type,posts[e.id]=e;return console.log("posts",posts),posts}function megaMenu(){var e='<nav id="megamenu" class="content">';e+='<ul class="exo-menu">',e+=getMegaMenu(menus.megamenu.menu_levels,""),e+='<a href="#" class="toggle-menu visible-xs-block"><i class="fa fa-bars"></i></a>',e+="</ul></nav>",jQuery("#main-menu").html(e)}function getMegaMenu(e,n){for(var s=0,t="",i="",a="",r="",o="",l="#",u="li",c="",m=0;m<e.length;m++){switch(r="",o="",i="",l="",u="li",""!=(s=e[m]).classes&&(i=' class="'+s.classes+'"',a=s.classes+"-ul"),s.classes.indexOf("mega-drop-down")?(r='<div class="animated fadeIn mega-menu">',r+='<div class="mega-menu-wrap">',r+='<div class="row">',r='<ul class="'+a+' animated fadeIn">',o="</ul></div></div></div>"):(s.classes.indexOf("drop-down"),r='<ul class="'+a+' animated fadeIn">',o="</ul>"),"mega-drop-down"==s.parent_classes&&(u="div"),"gradelevel"==s.object&&console.log("obj",s),s.object){case"page":case"category":case"gradelevel":case"custom":case"conference":case"award":l=s.url}""!=s.target&&(c=' target="_blank"'),t+="<"+u+" "+i+'><a href="'+l+'"'+c+">"+s.title+"</a>",null!=s.children&&s.children.length>0&&(t+=r,t+=getMegaMenu(s.children,s.classes),t+=o),t+="</li>"}return t}state.featured={transition:{type:"flip",face:"front"}},getStaticJSON("content",setData);var menu_config={megamenu:{menu_type:"megamenu",location:"#main-menu"},projects:{menu_type:"project",location:"#projects"},"social-links":{menu_type:"social",location:"#social"}};function setMenus(e){for(var n=0;n<e.length;n++)menus[e[n].slug]={},menus[e[n].slug].menu_array=[],menus[e[n].slug].name=e[n].name,menus[e[n].slug].slug=e[n].slug,menus[e[n].slug].items=setMenu(e[n].slug,e[n].items);buildMenuData()}function setMenu(e,n){menu={};for(var s=0;s<n.length;s++)menu[n[s].ID]=setMenuItem(e,n[s]),0!=n[s].menu_item_parent&&menu[n[s].menu_item_parent].children.push(n[s].ID),menus[e].menu_array.push(menu[n[s].ID]);return console.log("SetMenu",e,menu),menu}function setMenuItem(e,n){return(this_item={}).menu_id=n.ID,this_item.title=n.title,this_item.menu_order=n.menu_order,this_item.object=n.object,this_item.object_id=n.object_id,this_item.parent=n.menu_item_parent,this_item.classes=n.classes,this_item.url=n.url,this_item.description=n.description,this_item.slug=e,this_item.children=[],this_item}function menu_order(e,n){return e.menu_order<n.menu_order?-1:e.menu_order>n.menu_order?1:0}function setLinearNav(e){menus[e].linear_nav=[];for(var n in menus[e].items)menus[e].items[n].slug=n,menus[e].items[n].object_id,menus[e].linear_nav.push(menus[e].items[n]);menus[e].linear_nav.sort(menu_order)}function setLinearDataNav(e,n){menus[e].data_nav=[],menus[e].slug_nav=[];for(var s=0,t=0,i=0,a=0,r="outer-nav",o=0;o<n.length;o++){r="outer-nav",n[o].dest=r,n[o].slice=t,n[o].notch=s,i=s,menus[e].data_nav.push(n[o]),menus[e].slug_nav[n[o].slug]=s,s++;for(var l=0;l<n[o].children.length;l++){n[o].children[l].dest="inner-nav",n[o].children[l].slice=l,n[o].children[l].notch=s,n[o].children[l].parent=i,a=s,menus[e].data_nav.push(n[o].children[l]),menus[e].slug_nav[n[o].children[l].slug]=s,s++;for(var u=0;u<n[o].children[l].children.length;u++)n[o].children[l].children[u].dest="inner-subnav",n[o].children[l].children[u].slice=u,n[o].children[l].children[u].notch=s,n[o].children[l].children[u].grandparent=i,n[o].children[l].children[u].parent=a,menus[e].data_nav.push(n[o].children[l].children[u]),menus[e].slug_nav[n[o].children[l].children[u].slug]=s,s++}t++}}function getSlug(e,n,s,t){var i="";return null!=e&&(i=e.slug,null!=posts[e.object_id]&&(i=posts[e.object_id].slug)),i}function buildMenuData(){if(null==posts)window.setTimeout(buildMenuData(),10);else for(var e in menus){var n=[];if(null!=menu_config[e]){for(var s in menus[e].menu_array=[],menus[e].items)0==menus[e].items[s].parent&&menus[e].menu_array.push(menus[e].items[s]);menus[e].menu_array.sort(menu_order);for(var t=[],i=menus[e].menu_array,a="",r=0;r<i.length;r++){t=[];for(var o=0;o<i[r].children.length;o++){for(var l=[],u=menus[e].items[i[r].children[o]].children,c=0;c<u.length;c++)a=getSlug(menus[e].items[u[c]],c,"g",u,c),l.push({title:menus[e].items[u[c]].title,url:menus[e].items[u[c]].url,slug:a,object:menus[e].items[u[c]].object,object_id:menus[e].items[u[c]].object_id,classes:menus[e].items[u[c]].classes,description:menus[e].items[u[c]].description});a=getSlug(menus[e].items[i[r].children[o]],"c",i[r].children[o],o),t.push({title:menus[e].items[i[r].children[o]].title,slug:a,url:menus[e].items[i[r].children[o]].url,object:menus[e].items[i[r].children[o]].object,object_id:menus[e].items[i[r].children[o]].object_id,classes:menus[e].items[i[r].children[o]].classes,description:menus[e].items[i[r].children[o]].description,children:l})}a=getSlug(i[r],"o",i,r),n.push({title:i[r].title,slug:a,url:i[r].url,object:i[r].object,object_id:i[r].object_id,children:t,classes:i[r].classes,description:i[r].description})}menus[e].menu_levels=n,menu_levels=n,setLinearDataNav(e,n),setLinearNav(e),console.log("data",menus)}}}jQuery(".slideshow").slick({autoplay:!0,dots:!0,arrows:!0,infinite:!0,speed:1500,fade:!0,cssEase:"linear",focusoOnSelect:!0,nextArrow:'<i class="slick-arrow slick-next"></i>',prevArrow:'<i class="slick-arrow slick-prev"></i>',responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});var $carousel=jQuery(".slideshow");function setChildCategories(e){for(var n=0;n<e.length;n++)categories[e[n].id]=e[n];return e}function setCategories(e){for(var n=0;n<e.length;n++)categories[e[n].id]=e[n];return console.log("categories",categories),e}function setTags(e){for(var n=0;n<e.length;n++)tags[e[n].id]=e[n];return console.log("tags",tags),e}function setTaxonomyAccordion(){console.log(taxonomies),showTaxonomies="category,resource_type,gradelevel",tax_array=showTaxonomies.split(",");for(var e=[],n=0;n<tax_array.length;n++){taxonomy_accordion+="<h3>"+taxonomies[tax_array[n]].name+"</h3>",taxonomy_accordion+="<div>",e=taxonomies[tax_array[n]].data;for(var s=0;s<e.length;s++)null==e[s].posts&&console.log((void 0)[tax_array[n]],tax_array[n],e[s].name),e[s].posts.length&&(taxonomy_accordion+='<a href="/'+tax_array[n]+"/"+e[s].slug+'">'+e[s].name+"</a><br>");taxonomy_accordion+="</div>"}jQuery("#resource-accordion").html(taxonomy_accordion)}jQuery(document).on("keydown",(function(e){37==e.keyCode&&$carousel.slick("slickPrev"),39==e.keyCode&&$carousel.slick("slickNext")})),jQuery("a[data-slide]").click((function(e){e.preventDefault();var n=jQuery(this).data("slide");console.log(n),$carousel.slick("slickGoTo",n)}));